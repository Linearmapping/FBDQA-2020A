# 第十二周课程小结

袁梦 2018012642

## 量化策略开发基本流程

## 鉴别回测中的虚高收益率是运气还是实力

1. 造成回测中收益率虚高的原因：

   + 年化计算有bug

   + 回测周期太短，赶上同期大盘好

   + 回测周期碰巧抓到大牛股

   + 过度拟合，只适用于某个阶段

   + 使用了未来函数
   
2. 鉴别虚高收益率是靠运气还是靠实力

   + 回测是否具有统计意义：最低70次交易

   + 是否违背了交易规则：临时停牌情况，在分钟线级别根据历史成交量判断，该分钟成交量为零，则认为可能是临时停牌

   + 是否在出现流动性缺失时也能正常成交：涨停/跌停

   + 是否考虑了流动性对成交量的影响：单笔成交量超过当日该股票成交量的10%
   + 是否过于理想化地使用了价格：日内出的信号，以开盘价成交？能否精确地以日收盘价成交？
   + 是否存在偶然性影响？相同条件下回测结果一致吗
   
3. 检验策略逻辑的隐蔽问题：未来函数
   + 偷价：用最低价买入，用最高价卖出
   + 收盘价成交：很难精确以收盘价成交
   + 财务/公告类指标是什么时候更新的？先有鸡还是先有蛋：公司公告与股价的关系
      + 每家上市公司的季报更新日期并不一致，第三方平台的财务类因子存在提前更新的情况
   + 事件驱动型策略的问题
      + 通常发布时间：交易日收盘后
      + 通常发布后的动作：第二日停牌
      + 通常复牌后的市场反应：连续涨停或跌停
      + 典型的未来函数：公告日收盘价买入
   + 高频交易的成本和成交价
   
4. 量化策略诊断checklist

   + 自检手册

## 蒙特卡洛模拟和期权估值

1. 蒙特卡洛模拟：基于概率的方法
   + 随机数生成：均匀分布，正态分布，卡方分布，泊松分布  numpy.random
   + 期权定价BSM公式
      + 直接生成一组标准正态分布随机数，直接进行模拟
      + 对BSM公式进行变换，lognormal
      + 离散求解  BSM公式的微分形式（几何布朗运动）
      + 2分得越细，得到结果和1越接近
      + 3在t=T做一个截面，得到分布是2。3是过程量，2是某一个时刻的量
2. 应用：期权估值——欧式期权