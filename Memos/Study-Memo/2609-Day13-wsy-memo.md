体系化研发的重点是模型的调试修正

- 交易执行与技术选型
  - 回测平台选择与特性
  - 计算层面维度选择：tick/min
  - 系统层面操作系统选择
  - 编程语言层面

- 策略层面基本逻辑



- 体系化研发的关键环节
  - 策略逻辑
  - 模型构建
  - 模型调试
  - 交易执行：实盘的细节考虑



案例一：交易逻辑的认证

- 策略逻辑

  - 买入三法

    - 量价齐升，形成突破时顺势买入，当上升趋势被打破时卖出
    - 条件：
      - 看KD指标，K上穿D
      - 看均线，K线上穿10日均线
      - 看交易量，当日交易量超过10日交易量均值
    - 基于趋势一旦形成，会沿惯性运动的交易观点

    - 纠正了交易者在交易过程中常见的的情绪偏差
      - 漫漫熊途，避免深套。止盈止损，频繁交易。心理偏差纠正，自我确认偏差
      - 缓步上涨行情中，避免错失机会。心理偏差纠正，保守偏差
      - 急速上涨行情中，避免持股不牢。心里误差纠正，损失厌恶偏差，避免后悔偏差。
      - 急速下跌行情中，避免抢反弹
    - 考虑问题：
      - 指数怎么交易？ETF
      - 操作系统可以用来做个股吗？分别操作/自己编制指数统一操作
      - PPT代码问题：满仓one contract；用收盘价做信号，涉嫌用未来函数
    - 策略优化
      - 增加初始头寸管理
      - 增加止盈和止损
      - 引入加仓
      - 分散化-增加成长分格
    - 总结：量化策略的迭代式开发
      - 并没有做信号系统的改变
      - 优化退出的方式
      - 优化资金管理的方式
      - 分散化
    - <img src="https://qn-st0.yuketang.cn/FqFfZsXBus4ePjc-He3U-2vOPHQg" style="zoom:75%;" />

案例二：峰谷系统的交易思想——分形

期货交易

用的K线越多，对峰谷的判断越滞后

标的选择：峰谷系统对于交易标的有比较大的依赖，对波动率很小，流动性较差的标的不适合

![img](https://qn-st0.yuketang.cn/FqHjYB84P1TIHvvXok7RSUBp1Gc9)

![img](https://qn-st0.yuketang.cn/Ftb2Dy8TM6sKbavDPr95RoTYN863)

不对称的退出方式（止盈止损的ATR数不同）

持仓小

夏普率大于2才能上实盘

- 优化逻辑：资金管理（因为是趋势型策略，胜率不高较难优化，关键在做对的时候一定要挣够，亏损的时候及时止损）
  - 价格浮赢头寸：非匀速加仓，初期做对时迅速加仓（保证一定趋势后，因为趋势型策略，容易假突破；比匀速加仓的人抢跑一步），一定获利后加仓速度又迅速变慢（后期保守，）
    - 卡方分布调制	
      - 利用卡方分布左边特性
    - 波动率调制
      - 波动率计算：(H+L+2C)/4在一定区间的标准差
      - 波动率先变大后变小，认为风险不变
      - 波动率持续缩小，把风险因子放大
      - 波动率增大，调低风险因子
  - 能提高收益率，但不能解决最大回撤大的问题，交易品种单一
- 单一品种风险容易集中，需要**分散**化降低风险，在相关性弱的板块进行配置
  - 趋势性好的品种

因为峰谷之间有1.5ATR落差，会过滤到一些震荡的误差



