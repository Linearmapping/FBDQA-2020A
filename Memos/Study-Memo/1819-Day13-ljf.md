# WW13

## 量化策略的体系化研发关键环节

### 策略层面的基本逻辑

策略逻辑

模型构建

模型调试

交易执行

### 案例1

买入三法，基于“趋势一旦形成，会沿着惯性运动”

* KD指标，K上穿D
* 均线，K上穿10日均线
* 交易量，交易量超过10日交易均值

#### 模型调试

对比普通散户行为和量化交易系统的特点

* 自我确认偏差
* 保守偏差
* 损失厌恶偏差，避免后悔偏差；牛市拿得住股票
* 心锚，固定和调整偏差；代表性偏差

纠正了常见的情绪偏差

可以自己编制股票的指数

注意：

* 过大的交易量可能无法实现，对价格有影响
* 收盘价无法买入，只能用在回测中

### 案例2 策略逻辑的优化

优化什么要素最有意义？

风险——》1. 增加初始头寸管理

150基点波动率风险因子（1个基点=1/万）

一个单位头寸规模 = 总资金*波动率风险因子/N值

2- 增加止盈止损

跟踪止损3倍ATR

3- 引入加仓



有赚加钱；加钱更控制风险

4- 分散化

50ETF-价值风格；创业板ETF-成长风格

更多- 退出机制：基于跟踪窗口的TIP

### 案例3：峰谷交易系统

趋势型策略，胜率低，应多考虑资金管理；假突破止损，有钱赚多加

卡方分布，前期激进，后期保守。

波动率校正：

* 波动率上涨时，头寸规模缩小
* 波动率持续下降，更激进的策略

分散化以降低整体风险

## 金融大数据

### 正态性检验

许多理论依赖于收益呈正态分布的假设

如何检验是否为正态分布？

#### 图形化方法

##### 频率分布直方图

##### 分位数分位数图

```python
import statmodels.api as sm
sm.qqplot(log_returns.flatten())
```

#### 定量方法

##### 偏度、峰度

`scipy.stats`

`scs.describe(array)`

#### 假设检验

### 投资组合优化

##### 均值、方差的计算

##### 有效边界的获取

有效边界：给定风险水平

约束最优化

最大化：

* 夏普
* 方差
* 收益率



资本市场线：无风险资产和最高夏普比率的连线；也是切线

可以用插值求切线；

或者求新的夏普比率（考虑无风险投资）

